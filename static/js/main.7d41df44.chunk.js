(this.webpackJsonpdog_ceo_search=this.webpackJsonpdog_ceo_search||[]).push([[0],{251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(28),i=n.n(a),s=n(77),l=n(17),d=n(23),j=n(44),o=n(74),u=Object(c.createContext)(),b=n(255),h=n(6),O=b.a.Content,x=function(e){var t=e.children;return Object(h.jsx)(O,{style:{padding:"16px 24px"},children:t})},f=n(259),v=n(112),g=function(e,t){return Object.keys(e).map((function(n){return t(n,e[n])}))},m=b.a.Content,p=function(e){var t=e.children,n=e.view,c=Object(l.g)(),r={search:"Search",my_saved_dogs:"My Saved Dogs"};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f.a,{className:"site-page-header",title:"Dog CEO Search",subTitle:r[n],extra:g(r,(function(e,t){return Object(h.jsx)(v.a,{type:n===e&&"primary",onClick:function(){return c("/".concat(e))},children:t},e)}))}),Object(h.jsx)(m,{children:t})]})},y=n(122),S=n(120),w=function(e){for(var t in e)e[t]&&""!==e[t]&&e[t]!==[]&&e[t]!=={}||delete e[t];return e},C=function(e){return"?".concat(new URLSearchParams(w(e)).toString())},P=S.a.Item,k=S.a.SubMenu,_=function(){var e=Object(l.g)(),t=Object(c.useContext)(u),n=t.data,r=t.searchParams,a=t.setSearchParams;return r?Object(h.jsxs)(S.a,{onClick:function(t){var n=t.key,c="all"===n?[null,null]:n.split("--"),i=Object(d.a)(c,2),s=i[0],l=i[1],j=Object(y.a)(Object(y.a)({},r),{},{breed:s,subbreed:l});a(j),e({search:C(j)})},style:{width:256},defaultSelectedKeys:[(null===r||void 0===r?void 0:r.breed)?(null===r||void 0===r?void 0:r.subbreed)?"".concat(r.breed,"--").concat(r.subbreed):null===r||void 0===r?void 0:r.breed:"all"],defaultOpenKeys:[r.breed],mode:"inline",children:[Object(h.jsx)(P,{children:"all"},"all"),n&&g(n,(function(e,t){var n,c;if(!((null===r||void 0===r||null===(n=r.breeds)||void 0===n?void 0:n.length)>0)||(null===r||void 0===r||null===(c=r.breeds)||void 0===c?void 0:c.includes(e)))return 0===t.length?Object(h.jsx)(P,{children:e},e):Object(h.jsx)(k,{title:e,children:t.map((function(t){return Object(h.jsx)(P,{open:!0,children:t},"".concat(e,"--").concat(t))}))},e)}))]}):Object(h.jsx)(h.Fragment,{})},z=n(82),E=n(260),M=z.a.Option,F=E.a.Item,I=function(){var e=Object(l.g)(),t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.useContext)(u),s=i.data,b=i.loading,O=i.searchParams,f=i.setSearchParams;return O?Object(h.jsx)(x,{children:Object(h.jsx)(o.a,{justify:"center",children:Object(h.jsx)(j.a,{xs:{span:24},md:{span:24},lg:{span:18},xl:{span:12},style:{margin:"80px 0"},children:Object(h.jsx)(E.a,{name:"search_form",layout:"inline",onFinish:function(t){f(t),e({search:C(t)})},initialValues:O,children:Object(h.jsxs)(o.a,{style:{width:"100%"},children:[Object(h.jsx)(j.a,{flex:"auto",children:Object(h.jsx)(F,{name:"breeds",children:Object(h.jsx)(z.a,{mode:"multiple",placeholder:"Select breeds",loading:b,onChange:function(e){return a(e)},children:s&&g(s,(function(e){return Object(h.jsx)(M,{value:e,label:e,disabled:r.length>4&&!O.breeds.includes(e),children:e},e)}))})})}),Object(h.jsx)(j.a,{children:Object(h.jsx)(F,{children:Object(h.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Search"})})}),Object(h.jsx)(j.a,{children:Object(h.jsx)(F,{style:{width:"100%"},children:Object(h.jsx)(v.a,{type:"secondary",style:{width:"100%"},onClick:function(){e("/")},children:"Reset"})})})]})})})})}):Object(h.jsx)(h.Fragment,{})},R=n(261),T=n(121),D=n(146),J=n.n(D),K=n(150),L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(c,r){J()({method:e,url:t,data:n}).then((function(e){return c(e)})).catch((function(e){K.b.error("Ops! There was an error"),r(e)}))}))},N=function(e){return(null===e||void 0===e?void 0:e.subbreed)||(null===e||void 0===e?void 0:e.breed)||(null===e||void 0===e?void 0:e.breeds)?(null===e||void 0===e?void 0:e.subbreed)?["/breed/".concat(e.breed,"/").concat(e.subbreed,"/images")]:(null===e||void 0===e?void 0:e.breed)?["/breed/".concat(e.breed,"/images")]:(null===e||void 0===e?void 0:e.breeds)?e.breeds.map((function(e){return"/breed/".concat(e,"/images")})):void 0:["/breeds/image/random/12"]},U=function(e){return"https://dog.ceo/api".concat(e)},W=function(e){var t=Object(c.useState)(null),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!0),s=Object(d.a)(i,2),l=s[0],j=s[1];return Object(c.useEffect)((function(){j(!0),L("get",U(e)).then((function(e){return a(e.data.message)})).finally((function(){return j(!1)}))}),[e]),[r,l]},B=n(258),V=n(257),q=B.a.Meta,A=function(e){var t=e.url,n=function(e){var t=e.split("/");return t[t.length-2].split("-")}(t),c=Object(d.a)(n,2),r=c[0],a=c[1];return Object(h.jsx)(j.a,{children:Object(h.jsx)(B.a,{hoverable:!0,style:{width:240,margin:"20px 0"},cover:Object(h.jsx)(V.a,{src:t}),children:Object(h.jsx)(q,{title:r,description:a})})})},G=n(262),H=n(256),Q=function(){return Object(h.jsx)(o.a,{justify:"center",style:{height:"220px"},children:Object(h.jsx)(G.b,{size:"middle",children:Object(h.jsx)(H.a,{size:"large"})})})},X=function(e){return e.sort((function(e,t){return e.localeCompare(t)}))},Y=function(){var e=Object(c.useContext)(u).searchParams,t=Object(c.useState)(1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!0),s=Object(d.a)(i,2),l=s[0],j=s[1];return Object(c.useEffect)((function(){j(!0);var t=N(e).map((function(e){return L("get",U(e))}));Promise.all(t).then((function(e){var t=[];e.forEach((function(e){t=[].concat(Object(T.a)(t),Object(T.a)(e.data.message))})),a(t)})).finally((function(){console.log("finisshh"),j(!1)}))}),[e]),[r,l]}(e),s=Object(d.a)(i,2),l=s[0];if(s[1])return Object(h.jsx)(x,{children:Object(h.jsx)(Q,{})});var b=X(l),O=b.slice(12*r-12,12*r);return Object(h.jsxs)(x,{children:[Object(h.jsx)("p",{children:"".concat(b.length," results found for ").concat(function(){var t,n=(null===e||void 0===e?void 0:e.subbreed)||(null===e||void 0===e?void 0:e.breed)||(null===e||void 0===e||null===(t=e.breeds)||void 0===t?void 0:t.join(", "));return n||"random breeds"}())}),Object(h.jsx)(j.a,{style:{margin:"40px 0"},children:Object(h.jsx)(o.a,{justify:"center",children:Object(h.jsx)(o.a,{className:"result-grid",justify:"center",children:Object(h.jsx)(o.a,{gutter:40,justify:"evenly",children:O.map((function(e){return Object(h.jsx)(A,{url:e},e)}))})})})}),Object(h.jsx)(o.a,{justify:"center",children:Object(h.jsx)(R.a,{defaultCurrent:r,pageSize:12,total:b.length,showSizeChanger:!1,onChange:function(e){return a(e)}})})]})},Z=function(){var e,t=new URLSearchParams(window.location.search),n=null===(e=t.get("breeds"))||void 0===e?void 0:e.split(","),c={breeds:""===(null===n||void 0===n?void 0:n[0])?null:n,breed:t.get("breed"),subbreed:t.get("subbreed")};return w(c)},$=n.p+"static/media/background.25290233.png",ee=function(){var e=W("/breeds/list/all"),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(Z()),i=Object(d.a)(a,2),s=i[0],l=i[1];return Object(h.jsx)(p,{view:"search",children:Object(h.jsxs)(u.Provider,{value:{data:n,loading:r,searchParams:s,setSearchParams:l},children:[Object(h.jsx)(j.a,{span:24,style:{backgroundImage:"url(".concat($,")"),backgroundSize:"contain"},children:Object(h.jsx)(I,{})}),Object(h.jsxs)(o.a,{style:{width:"100%"},children:[Object(h.jsx)(j.a,{children:Object(h.jsx)(_,{})}),Object(h.jsx)(j.a,{flex:"auto",children:Object(h.jsx)(Y,{})})]})]})})},te=n.p+"static/media/doggo.1b0bd0ae.jpg",ne=function(){return Object(h.jsxs)(x,{children:[Object(h.jsx)(o.a,{justify:"center",children:Object(h.jsx)("h2",{children:"Work in progress..."})}),Object(h.jsx)(o.a,{justify:"center",children:Object(h.jsx)("img",{src:te,alt:"",width:"600",style:{maxWidth:"100%"}})})]})},ce=function(){return Object(h.jsx)(p,{view:"my_saved_dogs",children:Object(h.jsx)(ne,{})})},re=(n(251),function(){return Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(s.a,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"/search",element:Object(h.jsx)(ee,{})}),Object(h.jsx)(l.b,{exact:!0,path:"/my_saved_dogs",element:Object(h.jsx)(ce,{})}),Object(h.jsx)(l.b,{path:"*",element:Object(h.jsx)(l.a,{to:"/search"})})]})})})});n(252);i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(re,{})}),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.7d41df44.chunk.js.map